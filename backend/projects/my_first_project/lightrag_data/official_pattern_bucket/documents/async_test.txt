This should work with the official LightRAG functions and proper async handling.